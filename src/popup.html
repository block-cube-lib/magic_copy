<!DOCTYPE html>
<html>
<head>
  <title>MagicCopy</title>
  <style>
    body {
      width: 300px;
      padding: 10px;
      font-family: Arial, sans-serif;
    }

    .group {
      margin-bottom: 15px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: #f9f9f9;
    }

    textarea, input, select, button {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .result-icon {
      display: inline-block;
      width: 20px;
      height: 20px;
      vertical-align: middle;
    }

    .result-icon.success {
      background-color: green;
      border-radius: 50%;
    }

    .result-icon.fail {
      background-color: red;
      border-radius: 50%;
    }

    #preview {
      margin-top: 10px;
      padding: 10px;
      border: 1px solid #ccc;
      background-color: #f9f9f9;
    }

    #allSettingsLink {
      text-align: center;
      display: block;
      margin-top: 20px;
    }

    .message {
      text-align: center;
      margin-top: -10px;
      margin-bottom: 10px;
      color: green;
      display: none;
    }

    .radio-container {
      display: flex;
      align-items: center;
    }

    .button-row {
      display: flex;
      gap: 10px;
    }

    #urlPatternGroup, #settingsSelect, #settingsName, #selectors, #format, #saveSettings, #selectorsGroup {
      display: none;
    }

    #presetCustom:checked ~ #urlPatternGroup,
    #presetCustom:checked ~ #settingsSelect,
    #presetCustom:checked ~ #settingsName,
    #presetCustom:checked ~ #selectors,
    #presetCustom:checked ~ #format,
    #presetCustom:checked ~ #saveSettings,
    #presetCustom:checked ~ #selectorsGroup {
      display: block;
    }
  </style>
</head>
<body>
  <h3>MagicCopy</h3>

  <div class="group" id="presetGroup">
    <div class="radio-container">
      <input type="radio" id="presetDefault" name="preset" value="{Title}\n{URL}">
      <label for="presetDefault">Default (Title and URL on separate lines)</label>
    </div>
    <div class="radio-container">
      <input type="radio" id="presetTitleUrl" name="preset" value="{Title} {URL}">
      <label for="presetTitleUrl">Title and URL</label>
    </div>
    <div class="radio-container">
      <input type="radio" id="presetMarkdown" name="preset" value="[{Title}]({URL})">
      <label for="presetMarkdown">Markdown</label>
    </div>
    <div class="radio-container">
      <input type="radio" id="presetCustom" name="preset" value="custom">
      <label for="presetCustom">Custom</label>
    </div>
  </div>

  <div class="group" id="urlPatternGroup">
    <input id="urlPattern" placeholder="Enter URL pattern (e.g., '*://*.example.com/*')"/>
    <div class="button-row">
      <button id="setCurrentUrl">Set Current URL</button>
      <button id="checkPattern">Check Pattern</button>
    </div>
    <span id="patternResult" class="result-icon"></span>
  </div>

  <div class="group" id="selectorsGroup">
    <select id="settingsSelect"></select>
    <input id="settingsName" placeholder="Enter name for the setting"/>
    <textarea id="selectors" placeholder="Enter selectors, one per line"></textarea>
    <textarea id="format" placeholder="Enter format string (e.g., 'Title: {Title}, URL: {URL}')"></textarea>
    <button id="saveSettings">Save Settings</button>
  </div>

  <div class="group" id="previewGroup">
    <button id="previewButton">Preview</button>
    <button id="copy">Copy to Clipboard</button>
    <div id="preview"></div>
    <div class="message" id="copiedMessage">Copied</div>
    <div class="message" id="savedMessage">Saved</div>
  </div>

  <a id="allSettingsLink" href="settings.html" target="_blank">View All Settings</a>

  <script src="popup.js"></script>
</body>
</html>

